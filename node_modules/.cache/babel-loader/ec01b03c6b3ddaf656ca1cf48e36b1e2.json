{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Warrior\\\\myfirstreact\\\\src\\\\My Portfolio\\\\projects\\\\Calculator\\\\src\\\\App.js\";\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport KeyPadComponent from \"./components/KeyPadComponent\";\nexport default function App() {\n  let [result, setResult] = useState('0');\n  function calculate() {\n    try {\n      // eslint-disable-next-line\n      let x = eval(result);\n      if (x.toString().length > 16 && !/\\./.test(x)) {\n        x = x.toPrecision(16);\n      } else if (x.toString().length > 16 && /\\./.test(x)) {\n        // eslint-disable-next-line\n        x = eval(x.toFixed(16));\n      }\n      setResult(x.toString());\n    } catch (e) {\n      setResult('error');\n    }\n  }\n  ;\n  function reset() {\n    setResult('0');\n  }\n  function clearLastChar() {\n    if (/error|infinity|-infinity|NaN|undefined/i.test(result)) {\n      reset();\n    } else {\n      setResult(result.substring(0, result.length - 1) || '0');\n    }\n  }\n  ;\n  function handleKey(e) {\n    if (!e.key) e.blur(); // after mouse clear to fix keyboard bug \n    let key = e.key || e.name;\n    let x = result.split(/[*/+\\-%]/);\n    if (/Enter|=/.test(key)) {\n      calculate();\n    } else if (/^c$/i.test(key)) {\n      reset();\n    } else if (/Backspace/.test(key)) {\n      clearLastChar();\n    } else if (result.length <= 47 && /[*/+\\-%().]|^\\d$/.test(key)) {\n      if (/error|infinity|-infinity|NaN|undefined/i.test(result)) {\n        setResult(key);\n      } else if (/\\d/.test(key) && result === '0') {\n        setResult(key);\n      } else if (key === '.' && result.match(/\\d$/) && !/[d.]/.test(x[x.length - 1])) {\n        setResult(result + key);\n      } else if (key === '+' && result !== '0' && !/[*./+\\-(%]$/.test(result)) {\n        setResult(result + key);\n      } else if (key === '-' && result !== '0' && !/[*./+\\-(%]$/.test(result)) {\n        setResult(result + key);\n      } else if (key === '*' && result !== '0' && !/[*./+\\-(%]$/.test(result)) {\n        setResult(result + key);\n      } else if (key === '/' && result !== '0' && !/[*./+\\-(%]$/.test(result)) {\n        setResult(result + key);\n      } else if (key === '%' && result !== '0' && !/[*./+\\-(%]$/.test(result)) {\n        setResult(result + key);\n      } else if (key === ')' && /\\(/.test(result) && !/\\)/.test(result) && !/\\(/.test(x[x.length - 1]) && result.match(/\\d$/)) {\n        setResult(result + key);\n      } else if (key === ')' && result.match(/\\d$/) && /\\(/.test(result) && !/\\(/.test(x[x.length - 1]) && result.match(/\\(/g).length !== result.match(/\\)/g).length) {\n        setResult(result + key);\n      } else if (key === '(' && result === '0') {\n        setResult(key);\n      } else if (key === '(' && result !== '0' && !/[(.]$/.test(result) && /[*/+\\-%]$/.test(result)) {\n        setResult(result + key);\n      } else if (key === '0' && result !== '0' && !/[(.]$/.test(result) && /[*/+\\-%]$/.test(result)) {\n        setResult(result + key);\n      } else if (/\\d/.test(key) && !/\\)$/.test(result)) {\n        setResult(result + key);\n      }\n    }\n  }\n  useEffect(() => {\n    document.addEventListener('keydown', handleKey);\n    return () => {\n      document.removeEventListener('keydown', handleKey);\n    };\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"calculator-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"result\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 5\n    }\n  }, result)), /*#__PURE__*/React.createElement(KeyPadComponent, {\n    onClick: handleKey,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 4\n    }\n  }));\n}","map":{"version":3,"names":["React","useState","useEffect","KeyPadComponent","App","result","setResult","calculate","x","eval","toString","length","test","toPrecision","toFixed","e","reset","clearLastChar","substring","handleKey","key","blur","name","split","match","document","addEventListener","removeEventListener","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onClick"],"sources":["C:/Users/Warrior/myfirstreact/src/My Portfolio/projects/Calculator/src/App.js"],"sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport './App.css';\r\nimport KeyPadComponent from \"./components/KeyPadComponent\";\r\n\r\nexport default function App(){\r\n\tlet [result, setResult]= useState('0');\r\n\r\n\tfunction calculate(){\r\n\t\ttry {\r\n\t\t\t// eslint-disable-next-line\r\n\t\t\tlet x= eval(result);\r\n\t\t\tif (x.toString().length > 16 && !/\\./.test(x)){\r\n\t\t\t\tx= x.toPrecision(16)\r\n\t\t\t}else if (x.toString().length > 16 && /\\./.test(x)){\r\n\t\t\t\t// eslint-disable-next-line\r\n\t\t\t\tx= eval(x.toFixed(16))\r\n\t\t\t}\r\n\t\t\tsetResult(x.toString());\r\n\t\t} catch(e){\r\n\t\t\tsetResult('error')\r\n\t\t}\r\n\t};\r\n\r\n\tfunction reset(){\r\n\t\tsetResult('0');\r\n\t}\r\n\r\n\tfunction clearLastChar(){\r\n\t\tif (/error|infinity|-infinity|NaN|undefined/i.test(result)){\r\n\t\t\treset();\r\n\t\t} else{\r\n\t\t\tsetResult(result.substring(0, result.length - 1) || '0')\r\n\t\t}\r\n\t};\r\n\r\n\tfunction handleKey(e){\r\n\t\tif (!e.key) e.blur(); // after mouse clear to fix keyboard bug \r\n\t\tlet key= e.key || e.name;\r\n\t\tlet x= result.split(/[*/+\\-%]/);\r\n\t\tif (/Enter|=/.test(key)){\r\n\t\t\tcalculate();\r\n\t\t} else if (/^c$/i.test(key)){\r\n\t\t\treset();\r\n\t\t} else if (/Backspace/.test(key)){\r\n\t\t\tclearLastChar();\r\n\t\t} else if (result.length <= 47 &&\r\n\t\t/[*/+\\-%().]|^\\d$/.test(key)){\r\n\t\t\tif (/error|infinity|-infinity|NaN|undefined/i.test(result)){\r\n\t\t\t\tsetResult(key);\r\n\t\t\t}\telse if(/\\d/.test(key) && result === '0'){\r\n\t\t\t\tsetResult(key);\r\n\t\t\t} else if(key === '.' &&\r\n\t\t\t\tresult.match(/\\d$/) &&\r\n\t\t\t\t!/[d.]/.test(x[x.length -1])){\r\n\t\t\t\tsetResult(result + key);\r\n\t\t\t} else if(key === '+' &&\r\n\t\t\t\tresult !== '0' &&\r\n\t\t\t\t!/[*./+\\-(%]$/.test(result)){\r\n\t\t\t\tsetResult(result + key);\r\n\t\t\t} else if(key === '-' &&\r\n\t\t\t\tresult !== '0' &&\r\n\t\t\t\t!/[*./+\\-(%]$/.test(result)){\r\n\t\t\t\tsetResult(result + key);\r\n\t\t\t} else if(key === '*' &&\r\n\t\t\t\tresult !== '0' &&\r\n\t\t\t\t!/[*./+\\-(%]$/.test(result)){\r\n\t\t\t\tsetResult(result + key);\r\n\t\t\t} else if(key === '/' &&\r\n\t\t\t\tresult !== '0' &&\r\n\t\t\t\t!/[*./+\\-(%]$/.test(result)){\r\n\t\t\t\tsetResult(result + key);\r\n\t\t\t} else if(key === '%' &&\r\n\t\t\t\tresult !== '0' &&\r\n\t\t\t\t!/[*./+\\-(%]$/.test(result)){\r\n\t\t\t\tsetResult(result + key);\r\n\t\t\t} else if(key === ')' &&\r\n\t\t\t\t/\\(/.test(result) && !/\\)/.test(result) &&\r\n\t\t\t\t!/\\(/.test(x[x.length -1]) &&\r\n\t\t\t\tresult.match(/\\d$/)){\r\n\t\t\t\tsetResult(result + key);\r\n\t\t\t} else if(key === ')' && result.match(/\\d$/) &&\r\n\t\t\t\t/\\(/.test(result) &&\r\n\t\t\t\t!/\\(/.test(x[x.length -1]) &&\r\n\t\t\t\tresult.match(/\\(/g).length !==\r\n\t\t\t\tresult.match(/\\)/g).length){\r\n\t\t\t\tsetResult(result + key);\r\n\t\t\t} else if(key === '(' && result === '0'){\r\n\t\t\t\tsetResult(key);\r\n\t\t\t} else if(key === '(' && result !== '0' &&\r\n\t\t\t\t!/[(.]$/.test(result) &&\r\n\t\t\t\t/[*/+\\-%]$/.test(result)){\r\n\t\t\t\tsetResult(result + key);\r\n\t\t\t} else if(key === '0' && result !== '0' &&\r\n\t\t\t\t!/[(.]$/.test(result) &&\r\n\t\t\t\t/[*/+\\-%]$/.test(result)){\r\n\t\t\t\tsetResult(result + key);\r\n\t\t\t} else if(/\\d/.test(key) && !/\\)$/.test(result)){\r\n\t\t\t\tsetResult(result + key);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(()=>{\r\n\t\tdocument.addEventListener('keydown', handleKey);\r\n\t\treturn ()=> {\r\n\t\t\tdocument.removeEventListener('keydown', handleKey);\r\n\t\t}\r\n\t});\r\n\r\n\treturn(\r\n\t\t<div className=\"calculator-body\">\r\n\t\t\t<div className=\"result\">\r\n\t\t\t\t<p>{result}</p>\r\n\t\t\t</div>\r\n\t\t\t<KeyPadComponent onClick={handleKey}/>\r\n\t\t</div>\r\n\t);\r\n}"],"mappings":";AAAA,OAAOA,KAAK,IAAGC,QAAQ,EAAEC,SAAS,QAAO,OAAO;AAChD,OAAO,WAAW;AAClB,OAAOC,eAAe,MAAM,8BAA8B;AAE1D,eAAe,SAASC,GAAGA,CAAA,EAAE;EAC5B,IAAI,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAEL,QAAQ,CAAC,GAAG,CAAC;EAEtC,SAASM,SAASA,CAAA,EAAE;IACnB,IAAI;MACH;MACA,IAAIC,CAAC,GAAEC,IAAI,CAACJ,MAAM,CAAC;MACnB,IAAIG,CAAC,CAACE,QAAQ,CAAC,CAAC,CAACC,MAAM,GAAG,EAAE,IAAI,CAAC,IAAI,CAACC,IAAI,CAACJ,CAAC,CAAC,EAAC;QAC7CA,CAAC,GAAEA,CAAC,CAACK,WAAW,CAAC,EAAE,CAAC;MACrB,CAAC,MAAK,IAAIL,CAAC,CAACE,QAAQ,CAAC,CAAC,CAACC,MAAM,GAAG,EAAE,IAAI,IAAI,CAACC,IAAI,CAACJ,CAAC,CAAC,EAAC;QAClD;QACAA,CAAC,GAAEC,IAAI,CAACD,CAAC,CAACM,OAAO,CAAC,EAAE,CAAC,CAAC;MACvB;MACAR,SAAS,CAACE,CAAC,CAACE,QAAQ,CAAC,CAAC,CAAC;IACxB,CAAC,CAAC,OAAMK,CAAC,EAAC;MACTT,SAAS,CAAC,OAAO,CAAC;IACnB;EACD;EAAC;EAED,SAASU,KAAKA,CAAA,EAAE;IACfV,SAAS,CAAC,GAAG,CAAC;EACf;EAEA,SAASW,aAAaA,CAAA,EAAE;IACvB,IAAI,yCAAyC,CAACL,IAAI,CAACP,MAAM,CAAC,EAAC;MAC1DW,KAAK,CAAC,CAAC;IACR,CAAC,MAAK;MACLV,SAAS,CAACD,MAAM,CAACa,SAAS,CAAC,CAAC,EAAEb,MAAM,CAACM,MAAM,GAAG,CAAC,CAAC,IAAI,GAAG,CAAC;IACzD;EACD;EAAC;EAED,SAASQ,SAASA,CAACJ,CAAC,EAAC;IACpB,IAAI,CAACA,CAAC,CAACK,GAAG,EAAEL,CAAC,CAACM,IAAI,CAAC,CAAC,CAAC,CAAC;IACtB,IAAID,GAAG,GAAEL,CAAC,CAACK,GAAG,IAAIL,CAAC,CAACO,IAAI;IACxB,IAAId,CAAC,GAAEH,MAAM,CAACkB,KAAK,CAAC,UAAU,CAAC;IAC/B,IAAI,SAAS,CAACX,IAAI,CAACQ,GAAG,CAAC,EAAC;MACvBb,SAAS,CAAC,CAAC;IACZ,CAAC,MAAM,IAAI,MAAM,CAACK,IAAI,CAACQ,GAAG,CAAC,EAAC;MAC3BJ,KAAK,CAAC,CAAC;IACR,CAAC,MAAM,IAAI,WAAW,CAACJ,IAAI,CAACQ,GAAG,CAAC,EAAC;MAChCH,aAAa,CAAC,CAAC;IAChB,CAAC,MAAM,IAAIZ,MAAM,CAACM,MAAM,IAAI,EAAE,IAC9B,kBAAkB,CAACC,IAAI,CAACQ,GAAG,CAAC,EAAC;MAC5B,IAAI,yCAAyC,CAACR,IAAI,CAACP,MAAM,CAAC,EAAC;QAC1DC,SAAS,CAACc,GAAG,CAAC;MACf,CAAC,MAAM,IAAG,IAAI,CAACR,IAAI,CAACQ,GAAG,CAAC,IAAIf,MAAM,KAAK,GAAG,EAAC;QAC1CC,SAAS,CAACc,GAAG,CAAC;MACf,CAAC,MAAM,IAAGA,GAAG,KAAK,GAAG,IACpBf,MAAM,CAACmB,KAAK,CAAC,KAAK,CAAC,IACnB,CAAC,MAAM,CAACZ,IAAI,CAACJ,CAAC,CAACA,CAAC,CAACG,MAAM,GAAE,CAAC,CAAC,CAAC,EAAC;QAC7BL,SAAS,CAACD,MAAM,GAAGe,GAAG,CAAC;MACxB,CAAC,MAAM,IAAGA,GAAG,KAAK,GAAG,IACpBf,MAAM,KAAK,GAAG,IACd,CAAC,aAAa,CAACO,IAAI,CAACP,MAAM,CAAC,EAAC;QAC5BC,SAAS,CAACD,MAAM,GAAGe,GAAG,CAAC;MACxB,CAAC,MAAM,IAAGA,GAAG,KAAK,GAAG,IACpBf,MAAM,KAAK,GAAG,IACd,CAAC,aAAa,CAACO,IAAI,CAACP,MAAM,CAAC,EAAC;QAC5BC,SAAS,CAACD,MAAM,GAAGe,GAAG,CAAC;MACxB,CAAC,MAAM,IAAGA,GAAG,KAAK,GAAG,IACpBf,MAAM,KAAK,GAAG,IACd,CAAC,aAAa,CAACO,IAAI,CAACP,MAAM,CAAC,EAAC;QAC5BC,SAAS,CAACD,MAAM,GAAGe,GAAG,CAAC;MACxB,CAAC,MAAM,IAAGA,GAAG,KAAK,GAAG,IACpBf,MAAM,KAAK,GAAG,IACd,CAAC,aAAa,CAACO,IAAI,CAACP,MAAM,CAAC,EAAC;QAC5BC,SAAS,CAACD,MAAM,GAAGe,GAAG,CAAC;MACxB,CAAC,MAAM,IAAGA,GAAG,KAAK,GAAG,IACpBf,MAAM,KAAK,GAAG,IACd,CAAC,aAAa,CAACO,IAAI,CAACP,MAAM,CAAC,EAAC;QAC5BC,SAAS,CAACD,MAAM,GAAGe,GAAG,CAAC;MACxB,CAAC,MAAM,IAAGA,GAAG,KAAK,GAAG,IACpB,IAAI,CAACR,IAAI,CAACP,MAAM,CAAC,IAAI,CAAC,IAAI,CAACO,IAAI,CAACP,MAAM,CAAC,IACvC,CAAC,IAAI,CAACO,IAAI,CAACJ,CAAC,CAACA,CAAC,CAACG,MAAM,GAAE,CAAC,CAAC,CAAC,IAC1BN,MAAM,CAACmB,KAAK,CAAC,KAAK,CAAC,EAAC;QACpBlB,SAAS,CAACD,MAAM,GAAGe,GAAG,CAAC;MACxB,CAAC,MAAM,IAAGA,GAAG,KAAK,GAAG,IAAIf,MAAM,CAACmB,KAAK,CAAC,KAAK,CAAC,IAC3C,IAAI,CAACZ,IAAI,CAACP,MAAM,CAAC,IACjB,CAAC,IAAI,CAACO,IAAI,CAACJ,CAAC,CAACA,CAAC,CAACG,MAAM,GAAE,CAAC,CAAC,CAAC,IAC1BN,MAAM,CAACmB,KAAK,CAAC,KAAK,CAAC,CAACb,MAAM,KAC1BN,MAAM,CAACmB,KAAK,CAAC,KAAK,CAAC,CAACb,MAAM,EAAC;QAC3BL,SAAS,CAACD,MAAM,GAAGe,GAAG,CAAC;MACxB,CAAC,MAAM,IAAGA,GAAG,KAAK,GAAG,IAAIf,MAAM,KAAK,GAAG,EAAC;QACvCC,SAAS,CAACc,GAAG,CAAC;MACf,CAAC,MAAM,IAAGA,GAAG,KAAK,GAAG,IAAIf,MAAM,KAAK,GAAG,IACtC,CAAC,OAAO,CAACO,IAAI,CAACP,MAAM,CAAC,IACrB,WAAW,CAACO,IAAI,CAACP,MAAM,CAAC,EAAC;QACzBC,SAAS,CAACD,MAAM,GAAGe,GAAG,CAAC;MACxB,CAAC,MAAM,IAAGA,GAAG,KAAK,GAAG,IAAIf,MAAM,KAAK,GAAG,IACtC,CAAC,OAAO,CAACO,IAAI,CAACP,MAAM,CAAC,IACrB,WAAW,CAACO,IAAI,CAACP,MAAM,CAAC,EAAC;QACzBC,SAAS,CAACD,MAAM,GAAGe,GAAG,CAAC;MACxB,CAAC,MAAM,IAAG,IAAI,CAACR,IAAI,CAACQ,GAAG,CAAC,IAAI,CAAC,KAAK,CAACR,IAAI,CAACP,MAAM,CAAC,EAAC;QAC/CC,SAAS,CAACD,MAAM,GAAGe,GAAG,CAAC;MACxB;IACD;EACD;EAEAlB,SAAS,CAAC,MAAI;IACbuB,QAAQ,CAACC,gBAAgB,CAAC,SAAS,EAAEP,SAAS,CAAC;IAC/C,OAAO,MAAK;MACXM,QAAQ,CAACE,mBAAmB,CAAC,SAAS,EAAER,SAAS,CAAC;IACnD,CAAC;EACF,CAAC,CAAC;EAEF,oBACCnB,KAAA,CAAA4B,aAAA;IAAKC,SAAS,EAAC,iBAAiB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC/BnC,KAAA,CAAA4B,aAAA;IAAKC,SAAS,EAAC,QAAQ;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACtBnC,KAAA,CAAA4B,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI9B,MAAU,CACV,CAAC,eACNL,KAAA,CAAA4B,aAAA,CAACzB,eAAe;IAACiC,OAAO,EAAEjB,SAAU;IAAAW,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAC,CACjC,CAAC;AAER","ignoreList":[]},"metadata":{},"sourceType":"module"}